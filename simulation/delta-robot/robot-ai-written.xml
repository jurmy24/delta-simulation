<?xml version="1.0" ?>
<!-- Delta robot MJCF - restructured from onshape-to-robot export -->
<!-- Kinematic tree with equality/connect constraints to close parallel loops -->
<mujoco model="delta-robot">
  <compiler angle="radian" meshdir="assets" autolimits="true"/>
  <option timestep="0.002" iterations="50" solver="Newton" tolerance="1e-10"/>
  <default>
    <default class="delta-robot">
      <joint frictionloss="0.1" armature="0.005"/>
      <position kp="50" dampratio="1"/>
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="collision">
        <geom group="3"/>
      </default>
    </default>
  </default>
  <worldbody>
    <!-- ============================================================ -->
    <!-- BASE PLATE (fixed to world) -->
    <!-- ============================================================ -->
    <body name="base_plate" pos="0 0 0" quat="1 0 0 0" childclass="delta-robot">
      <inertial pos="0 0 0.0259455" mass="0.0210468" fullinertia="6.87617e-05 6.87617e-05 0.000136928 0 0 -0"/>
      <!-- Part rod_mount -->
      <geom type="mesh" class="visual" pos="-0.0303109 -0.0175 -0.01" quat="0.258819 -0 0 0.965926" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="-0.0303109 -0.0175 -0.01" quat="0.258819 -0 0 0.965926" mesh="rod_mount"/>
      <!-- Part rod_mount_2 -->
      <geom type="mesh" class="visual" pos="0 0.035 -0.01" quat="0.965926 0 -0 0.258819" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="0 0.035 -0.01" quat="0.965926 0 -0 0.258819" mesh="rod_mount"/>
      <!-- Part small_pulley -->
      <geom type="mesh" class="visual" pos="-0.0253209 0.077757 0.026" quat="0.5 -0 0 0.866025" mesh="small_pulley" material="small_pulley_material"/>
      <geom type="mesh" class="collision" pos="-0.0253209 0.077757 0.026" quat="0.5 -0 0 0.866025" mesh="small_pulley"/>
      <!-- Part motor_mount -->
      <geom type="mesh" class="visual" pos="-0 -0 -0.01" quat="0.707107 -0 -0 -0.707107" mesh="motor_mount" material="motor_mount_material"/>
      <geom type="mesh" class="collision" pos="-0 -0 -0.01" quat="0.707107 -0 -0 -0.707107" mesh="motor_mount"/>
      <!-- Part motor_wire_connector -->
      <geom type="mesh" class="visual" pos="0.078817 -0.109487 0.0305" quat="0.5 0.5 -0.5 0.5" mesh="motor_wire_connector" material="motor_wire_connector_material"/>
      <geom type="mesh" class="collision" pos="0.078817 -0.109487 0.0305" quat="0.5 0.5 -0.5 0.5" mesh="motor_wire_connector"/>
      <!-- Part motor_mount_2 -->
      <geom type="mesh" class="visual" pos="0 -0 -0.01" quat="0.965926 -0 -0 0.258819" mesh="motor_mount" material="motor_mount_material"/>
      <geom type="mesh" class="collision" pos="0 -0 -0.01" quat="0.965926 -0 -0 0.258819" mesh="motor_mount"/>
      <!-- Part rod_mount_3 -->
      <geom type="mesh" class="visual" pos="0.0303109 -0.0175 -0.01" quat="0.707107 0 0 -0.707107" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="0.0303109 -0.0175 -0.01" quat="0.707107 0 0 -0.707107" mesh="rod_mount"/>
      <!-- Part motor_wire_connector_2 -->
      <geom type="mesh" class="visual" pos="0.0554098 0.123001 0.0305" quat="0.183013 -0.683013 -0.183013 -0.683013" mesh="motor_wire_connector" material="motor_wire_connector_material"/>
      <geom type="mesh" class="collision" pos="0.0554098 0.123001 0.0305" quat="0.183013 -0.683013 -0.183013 -0.683013" mesh="motor_wire_connector"/>
      <!-- Part rod_mount_4 -->
      <geom type="mesh" class="visual" pos="-0 0 -0.01" quat="0.258819 -0 0 0.965926" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="-0 0 -0.01" quat="0.258819 -0 0 0.965926" mesh="rod_mount"/>
      <!-- Part robot_mount -->
      <geom type="mesh" class="visual" pos="0 -0 -0.01" quat="0.707107 -0 -0 -0.707107" mesh="robot_mount" material="robot_mount_material"/>
      <geom type="mesh" class="collision" pos="0 -0 -0.01" quat="0.707107 -0 -0 -0.707107" mesh="robot_mount"/>
      <!-- Part rod_mount_5 -->
      <geom type="mesh" class="visual" pos="0 0 -0.01" quat="0.965926 0 0 0.258819" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="0 0 -0.01" quat="0.965926 0 0 0.258819" mesh="rod_mount"/>
      <!-- Part rod_mount_6 -->
      <geom type="mesh" class="visual" pos="-0 -0 -0.01" quat="0.707107 0 0 -0.707107" mesh="rod_mount" material="rod_mount_material"/>
      <geom type="mesh" class="collision" pos="-0 -0 -0.01" quat="0.707107 0 0 -0.707107" mesh="rod_mount"/>
      <!-- Part base_plate -->
      <geom type="mesh" class="visual" pos="0 0 -0.01" quat="0.707107 0 -0 -0.707107" mesh="base_plate" material="base_plate_material"/>
      <geom type="mesh" class="collision" pos="0 0 -0.01" quat="0.707107 0 -0 -0.707107" mesh="base_plate"/>
      <!-- Part motor_mount_3 -->
      <geom type="mesh" class="visual" pos="-0 0 -0.01" quat="0.258819 -0 0 0.965926" mesh="motor_mount" material="motor_mount_material"/>
      <geom type="mesh" class="collision" pos="-0 0 -0.01" quat="0.258819 -0 0 0.965926" mesh="motor_mount"/>
      <!-- Part small_pulley_2 -->
      <geom type="mesh" class="visual" pos="0.08 -0.01695 0.026" quat="1 -0 0 0" mesh="small_pulley" material="small_pulley_material"/>
      <geom type="mesh" class="collision" pos="0.08 -0.01695 0.026" quat="1 -0 0 0" mesh="small_pulley"/>
      <!-- Part motor -->
      <geom type="mesh" class="visual" pos="-0.0183494 0.081782 0.026" quat="0.683013 0.183013 -0.683013 0.183013" mesh="motor" material="motor_material"/>
      <geom type="mesh" class="collision" pos="-0.0183494 0.081782 0.026" quat="0.683013 0.183013 -0.683013 0.183013" mesh="motor"/>
      <!-- Part motor_2 -->
      <geom type="mesh" class="visual" pos="-0.0616506 -0.056782 0.026" quat="0.183013 0.683013 -0.183013 0.683013" mesh="motor" material="motor_material"/>
      <geom type="mesh" class="collision" pos="-0.0616506 -0.056782 0.026" quat="0.183013 0.683013 -0.183013 0.683013" mesh="motor"/>
      <!-- Part motor_3 -->
      <geom type="mesh" class="visual" pos="0.08 -0.025 0.026" quat="0.5 -0.5 -0.5 -0.5" mesh="motor" material="motor_material"/>
      <geom type="mesh" class="collision" pos="0.08 -0.025 0.026" quat="0.5 -0.5 -0.5 -0.5" mesh="motor"/>
      <!-- Part motor_wire_connector_3 -->
      <geom type="mesh" class="visual" pos="-0.134227 -0.0135141 0.0305" quat="0.683013 -0.183013 -0.683013 -0.183013" mesh="motor_wire_connector" material="motor_wire_connector_material"/>
      <geom type="mesh" class="collision" pos="-0.134227 -0.0135141 0.0305" quat="0.683013 -0.183013 -0.683013 -0.183013" mesh="motor_wire_connector"/>
      <!-- Part small_pulley_3 -->
      <geom type="mesh" class="visual" pos="-0.0546791 -0.060807 0.026" quat="0.5 -0 0 -0.866025" mesh="small_pulley" material="small_pulley_material"/>
      <geom type="mesh" class="collision" pos="-0.0546791 -0.060807 0.026" quat="0.5 -0 0 -0.866025" mesh="small_pulley"/>

      <!-- ============================================================ -->
      <!-- ARM 1: upper arm (rod) -> forearm -> end effector -> gripper -->
      <!-- This is the PRIMARY chain through which the tree connects -->
      <!-- ============================================================ -->
      <body name="rod" pos="0.08 0.071 -0.0275" quat="0.686356 -0.686356 0.170045 0.170045">
        <joint axis="0 0 1" name="shoulder_1" type="hinge"/>
        <inertial pos="1.61471e-05 -1.61475e-05 -0.0769634" mass="0.0496325" fullinertia="5.80508e-06 5.80508e-06 8.65485e-06 -1.3e-11 7.463e-09 -7.463e-09"/>
        <!-- Part biltema_pushrod_screw -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.08405" quat="0.707081 0.00609597 0.00261695 -0.707102" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.08405" quat="0.707081 0.00609597 0.00261695 -0.707102" mesh="biltema_pushrod_screw"/>
        <!-- Part upper_arm -->
        <geom type="mesh" class="visual" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm" material="upper_arm_material"/>
        <geom type="mesh" class="collision" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm"/>
        <!-- Part biltema_pushrod_screw_2 -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.04405" quat="0.00261695 0.707102 -0.707081 0.00609597" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.04405" quat="0.00261695 0.707102 -0.707081 0.00609597" mesh="biltema_pushrod_screw"/>
        <!-- Part rod -->
        <geom type="mesh" class="visual" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod" material="rod_material"/>
        <geom type="mesh" class="collision" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod"/>
        <!-- Part big_pulley -->
        <geom type="mesh" class="visual" pos="0 0 -0.09" quat="0 0 -0.707107 -0.707107" mesh="big_pulley" material="big_pulley_material"/>
        <geom type="mesh" class="collision" pos="0 0 -0.09" quat="0 0 -0.707107 -0.707107" mesh="big_pulley"/>

        <!-- FOREARM 1a - ball joint at lower pushrod screw -->
        <body name="forearm_1a" pos="0.15 0 -0.08405" quat="0.014870 -0.628597 -0.777011 0.029984">
          <joint name="ball1_arm1" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <!-- Part forearm -->
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <!-- Part push_rod_chassis -->
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <!-- Part biltema_pushrod_chassis -->
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_1a_tip" pos="0.2658 0 -0.005" size="0.005"/>

          <!-- END EFFECTOR PLATE - attached to forearm 1a tip with ball joint -->
          <body name="end_effector" pos="0.307661 0.010352 -0.010679" quat="-0.639563 0.510569 -0.047043 -0.572770">
            <joint name="ball_ee_arm1" type="ball"/>
            <inertial pos="0 0 0" mass="0.01" fullinertia="1e-06 1e-06 1e-06 0 0 0"/>
            <!-- Part end_effector_plate -->
            <geom type="mesh" class="visual" pos="-0.025019 0.024191 -0.011450" quat="0.656771 -0.262014 -0.656771 -0.262014" mesh="end_effector_plate" material="end_effector_plate_material"/>
            <geom type="mesh" class="collision" pos="-0.025019 0.024191 -0.011450" quat="0.656771 -0.262014 -0.656771 -0.262014" mesh="end_effector_plate"/>
            <!-- Part koch_connector -->
            <geom type="mesh" class="visual" pos="-0.164764 0.149214 0.051707" quat="-0.000000 -0.918785 -0.394757 0.000000" mesh="koch_connector" material="koch_connector_material"/>
            <geom type="mesh" class="collision" pos="-0.164764 0.149214 0.051707" quat="-0.000000 -0.918785 -0.394757 0.000000" mesh="koch_connector"/>
            <!-- Push rod ball + screw for forearm_1a -->
            <geom type="mesh" class="visual" pos="-0.031166 0.024977 0.022211" quat="-0.397307 0.137275 -0.855076 -0.303558" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.031166 0.024977 0.022211" quat="-0.397307 0.137275 -0.855076 -0.303558" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.033491 0.022527 0.024161" quat="0.701698 0.495586 -0.066290 -0.507562" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.033491 0.022527 0.024161" quat="0.701698 0.495586 -0.066290 -0.507562" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>
            <!-- Push rod ball + screw for forearm_1b -->
            <geom type="mesh" class="visual" pos="-0.007322 0.050106 0.002211" quat="-0.164118 -0.406663 -0.290903 0.850333" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.007322 0.050106 0.002211" quat="-0.164118 -0.406663 -0.290903 0.850333" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.004996 0.052556 0.000261" quat="0.493254 -0.717325 0.485227 -0.081854" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.004996 0.052556 0.000261" quat="0.493254 -0.717325 0.485227 -0.081854" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>
            <!-- Push rod ball + screw for forearm_2a -->
            <geom type="mesh" class="visual" pos="-0.007321 0.050106 -0.025110" quat="0.499790 0.610674 -0.614066 0.014487" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.007321 0.050106 -0.025110" quat="0.499790 0.610674 -0.614066 0.014487" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.004997 0.052556 -0.023160" quat="0.866022 -0.363649 0.343161 -0.002398" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.004997 0.052556 -0.023160" quat="0.866022 -0.363649 0.343161 -0.002398" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>
            <!-- Push rod ball + screw for forearm_2b -->
            <geom type="mesh" class="visual" pos="-0.031166 0.024978 -0.045110" quat="0.666691 -0.059550 0.496441 0.552742" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.031166 0.024978 -0.045110" quat="0.666691 -0.059550 0.496441 0.552742" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.033491 0.022527 -0.047060" quat="0.308929 -0.080574 -0.862269 0.393145" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.033491 0.022527 -0.047060" quat="0.308929 -0.080574 -0.862269 0.393145" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>
            <!-- Push rod ball + screw for forearm_3a -->
            <geom type="mesh" class="visual" pos="-0.047452 0.007815 -0.031450" quat="0.356054 0.000001 -0.000001 0.934465" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.047452 0.007815 -0.031450" quat="0.356054 0.000001 -0.000001 0.934465" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.047452 0.007814 -0.035350" quat="0.000001 -0.912535 -0.408998 0.000000" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.047452 0.007814 -0.035350" quat="0.000001 -0.912535 -0.408998 0.000000" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>
            <!-- Push rod ball + screw for forearm_3b -->
            <geom type="mesh" class="visual" pos="-0.047452 0.007814 0.008550" quat="0.000001 -0.984209 0.177013 0.000001" mesh="push_rod_ball" material="push_rod_ball_material"/>
            <geom type="mesh" class="collision" pos="-0.047452 0.007814 0.008550" quat="0.000001 -0.984209 0.177013 0.000001" mesh="push_rod_ball"/>
            <geom type="mesh" class="visual" pos="-0.047452 0.007815 0.012451" quat="0.570774 0.000000 0.000001 -0.821107" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f" material="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material"/>
            <geom type="mesh" class="collision" pos="-0.047452 0.007815 0.012451" quat="0.570774 0.000000 0.000001 -0.821107" mesh="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f"/>

            <!-- Part bts2_motor (motor body mounted on end effector) -->
            <geom type="mesh" class="visual" pos="-0.106192 0.115855 -0.119168" quat="0.378651 0.111611 -0.259771 -0.881298" mesh="bts2_motor" material="bts2_motor_material"/>
            <geom type="mesh" class="collision" pos="-0.106192 0.115855 -0.119168" quat="0.378651 0.111611 -0.259771 -0.881298" mesh="bts2_motor"/>
            <!-- Part bts2_motor_wheel (motor wheel on end effector) -->
            <geom type="mesh" class="visual" pos="0.131238 0.148961 -0.010350" quat="0.325404 0.444283 -0.177243 0.815665" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
            <geom type="mesh" class="collision" pos="0.131238 0.148961 -0.010350" quat="0.325404 0.444283 -0.177243 0.815665" mesh="bts2_motor_wheel"/>

            <!-- GRIPPER: bts2_motor (Koch-arm gripper motor) -->
            <body name="bts2_motor" pos="0.036129 -0.012815 0.011500" quat="0.249644 -0.858866 0.183158 0.408021">
              <joint axis="0 0 1" name="pronation_supination" type="hinge" range="-1.231821806649891 5.051363500529695"/>
              <inertial pos="0 0 0" mass="0.005" fullinertia="1e-06 1e-06 1e-06 0 0 0"/>
              <!-- Part bts2_motor_wheel_3 -->
              <geom type="mesh" class="visual" pos="0.00462832 -0.00574256 0.206315" quat="0.707107 -0.707107 0 0" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
              <geom type="mesh" class="collision" pos="0.00462832 -0.00574256 0.206315" quat="0.707107 -0.707107 0 0" mesh="bts2_motor_wheel"/>
              <!-- Part static_gripper_side -->
              <geom type="mesh" class="visual" pos="-0.00277168 -0.221065 -0.0237926" quat="1 0 0 0" mesh="static_gripper_side" material="static_gripper_side_material"/>
              <geom type="mesh" class="collision" pos="-0.00277168 -0.221065 -0.0237926" quat="1 0 0 0" mesh="static_gripper_side"/>
              <!-- Part bts2_motor_3 -->
              <geom type="mesh" class="visual" pos="-0.00277168 0.221065 -0.0123074" quat="0 -1 0 0" mesh="bts2_motor" material="bts2_motor_material"/>
              <geom type="mesh" class="collision" pos="-0.00277168 0.221065 -0.0123074" quat="0 -1 0 0" mesh="bts2_motor"/>
              <!-- Part bts2_motor_wheel_2 (from gripper_shoulder body) -->
              <geom type="mesh" class="visual" pos="-0.065494 0.199697 0.047443" quat="-0.000000 0.985671 0.168676 -0.000000" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
              <geom type="mesh" class="collision" pos="-0.065494 0.199697 0.047443" quat="-0.000000 0.985671 0.168676 -0.000000" mesh="bts2_motor_wheel"/>

              <!-- GRIPPER SHOULDER (flexion_extension joint) -->
              <body name="gripper_shoulder" pos="-0.001255 0.003583 0.041700" quat="0.696975 0.696975 0.119273 0.119272">
                <joint axis="0 0 1" name="flexion_extension" type="hinge" range="-2.144083726623938 0.997508926965855"/>
                <inertial pos="0 0 0" mass="0.005" fullinertia="1e-06 1e-06 1e-06 0 0 0"/>
                <!-- Part gripper_shoulder -->
                <geom type="mesh" class="visual" pos="-0.222222 -0.063892 -0.015350" quat="0.500000 -0.500000 -0.500001 -0.499999" mesh="gripper_shoulder" material="gripper_shoulder_material"/>
                <geom type="mesh" class="collision" pos="-0.222222 -0.063892 -0.015350" quat="0.500000 -0.500000 -0.500001 -0.499999" mesh="gripper_shoulder"/>
                <!-- Part bts2_motor_wheel_3 (driven wheel on jaw 1) -->
                <geom type="mesh" class="visual" pos="0.002447 0.164615 0.010751" quat="-0.000000 -0.985672 -0.000001 -0.168676" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
                <geom type="mesh" class="collision" pos="0.002447 0.164615 0.010751" quat="-0.000000 -0.985672 -0.000001 -0.168676" mesh="bts2_motor_wheel"/>
              </body>

              <!-- MOBILE GRIPPER SIDE (gripper joint) -->
              <body name="mobile_gripper_side" pos="-0.0074 -0.01095 -0.01805" quat="0.681419 -0.681419 0.188861 0.188861">
                <joint axis="0 0 1" name="gripper" type="hinge" range="-0.5407422693931956 1.030054057401701"/>
                <inertial pos="0 0 0" mass="0.005" fullinertia="1e-06 1e-06 1e-06 0 0 0"/>
                <!-- Part bts2_motor_wheel_4 -->
                <geom type="mesh" class="visual" pos="0.00462832 -0.00574256 0.206315" quat="0.707107 -0.707107 0 0" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
                <geom type="mesh" class="collision" pos="0.00462832 -0.00574256 0.206315" quat="0.707107 -0.707107 0 0" mesh="bts2_motor_wheel"/>
                <!-- Part bts2_motor_wheel_5 -->
                <geom type="mesh" class="visual" pos="0.00462832 0.00574256 -0.186615" quat="0.707107 0.707107 0 0" mesh="bts2_motor_wheel" material="bts2_motor_wheel_material"/>
                <geom type="mesh" class="collision" pos="0.00462832 0.00574256 -0.186615" quat="0.707107 0.707107 0 0" mesh="bts2_motor_wheel"/>
                <!-- Part mobile_gripper_side -->
                <geom type="mesh" class="visual" pos="0.00462832 0.00574256 -0.211215" quat="0.707107 0.707107 0 0" mesh="mobile_gripper_side" material="mobile_gripper_side_material"/>
                <geom type="mesh" class="collision" pos="0.00462832 0.00574256 -0.211215" quat="0.707107 0.707107 0 0" mesh="mobile_gripper_side"/>
              </body>

              <!-- Part bts2_motor_2 (motor 3, drives mobile jaw) -->
              <geom type="mesh" class="visual" pos="-0.085322 0.219957 0.042473" quat="-0.148128 0.471479 0.080683 0.865596" mesh="bts2_motor" material="bts2_motor_material"/>
              <geom type="mesh" class="collision" pos="-0.085322 0.219957 0.042473" quat="-0.148128 0.471479 0.080683 0.865596" mesh="bts2_motor"/>
            </body>
          </body>
        </body>

        <!-- FOREARM 1b - ball joint at upper pushrod screw -->
        <body name="forearm_1b" pos="0.15 0 -0.04405" quat="0.365335 0.512330 0.655986 0.416811">
          <joint name="ball2_arm1" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_1b_tip" pos="0.2658 0 -0.005" size="0.005"/>
          <body name="forearm_1b_tip_body" pos="0.2658 0 -0.005">
            <inertial pos="0 0 0" mass="1e-9" fullinertia="1e-12 1e-12 1e-12 0 0 0"/>
          </body>
        </body>
      </body>

      <!-- ============================================================ -->
      <!-- ARM 2: upper arm (rod_2) -> forearm_2a + forearm_2b -->
      <!-- ============================================================ -->
      <body name="rod_2" pos="-0.101488 0.033782 -0.0275" quat="0.159231 -0.517029 -0.48237 0.688945">
        <joint axis="0 0 1" name="shoulder_2" type="hinge"/>
        <inertial pos="1.61471e-05 -1.61475e-05 -0.0769634" mass="0.0496325" fullinertia="5.80508e-06 5.80508e-06 8.65485e-06 -1.3e-11 7.463e-09 -7.463e-09"/>
        <!-- Part biltema_pushrod_screw_3 -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.04405" quat="0.00261695 0.707102 -0.707081 0.00609597" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.04405" quat="0.00261695 0.707102 -0.707081 0.00609597" mesh="biltema_pushrod_screw"/>
        <!-- Part big_pulley_2 -->
        <geom type="mesh" class="visual" pos="0 0 -0.09" quat="0 0 -0.707107 -0.707107" mesh="big_pulley" material="big_pulley_material"/>
        <geom type="mesh" class="collision" pos="0 0 -0.09" quat="0 0 -0.707107 -0.707107" mesh="big_pulley"/>
        <!-- Part rod_2 -->
        <geom type="mesh" class="visual" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod" material="rod_material"/>
        <geom type="mesh" class="collision" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod"/>
        <!-- Part biltema_pushrod_screw_4 -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.08405" quat="0.707081 0.00609597 0.00261695 -0.707102" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.08405" quat="0.707081 0.00609597 0.00261695 -0.707102" mesh="biltema_pushrod_screw"/>
        <!-- Part upper_arm_2 -->
        <geom type="mesh" class="visual" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm" material="upper_arm_material"/>
        <geom type="mesh" class="collision" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm"/>

        <!-- FOREARM 2a - ball joint at lower pushrod screw -->
        <body name="forearm_2a" pos="0.15 0 -0.08405" quat="0.501109 0.396676 0.510211 0.575520">
          <joint name="ball1_arm2" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_2a_tip" pos="0.2658 0 -0.005" size="0.005" rgba="1 0 0 1"/>
          <body name="forearm_2a_tip_body" pos="0.2658 0 -0.005">
            <inertial pos="0 0 0" mass="1e-9" fullinertia="1e-12 1e-12 1e-12 0 0 0"/>
          </body>
        </body>

        <!-- FOREARM 2b - ball joint at upper pushrod screw -->
        <body name="forearm_2b" pos="0.15 0 -0.04405" quat="-0.628421 -0.116193 -0.210318 -0.739833">
          <joint name="ball2_arm2" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_2b_tip" pos="0.2658 0 -0.005" size="0.005" rgba="1 0 0 1"/>
          <body name="forearm_2b_tip_body" pos="0.2658 0 -0.005">
            <inertial pos="0 0 0" mass="1e-9" fullinertia="1e-12 1e-12 1e-12 0 0 0"/>
          </body>
        </body>
      </body>

      <!-- ============================================================ -->
      <!-- ARM 3: upper arm (rod_3) -> forearm_3a + forearm_3b -->
      <!-- ============================================================ -->
      <body name="rod_3" pos="0.0214878 -0.104782 -0.0275" quat="0.513047 -0.164887 0.687613 -0.486603">
        <joint axis="0 0 1" name="shoulder_3" type="hinge"/>
        <inertial pos="1.61471e-05 -1.61475e-05 -0.0769634" mass="0.0496325" fullinertia="5.80508e-06 5.80508e-06 8.65485e-06 -1.3e-11 7.463e-09 -7.463e-09"/>
        <!-- Part biltema_pushrod_screw_5 -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.08405" quat="0.707102 -0.00261695 0.00609597 0.707081" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.08405" quat="0.707102 -0.00261695 0.00609597 0.707081" mesh="biltema_pushrod_screw"/>
        <!-- Part biltema_pushrod_screw_6 -->
        <geom type="mesh" class="visual" pos="0.15 0 -0.04405" quat="0.00246004 -0.999978 -1.51566e-05 -0.00616096" mesh="biltema_pushrod_screw" material="biltema_pushrod_screw_material"/>
        <geom type="mesh" class="collision" pos="0.15 0 -0.04405" quat="0.00246004 -0.999978 -1.51566e-05 -0.00616096" mesh="biltema_pushrod_screw"/>
        <!-- Part big_pulley_3 -->
        <geom type="mesh" class="visual" pos="0 0 -0.09" quat="0 0 0.707107 0.707107" mesh="big_pulley" material="big_pulley_material"/>
        <geom type="mesh" class="collision" pos="0 0 -0.09" quat="0 0 0.707107 0.707107" mesh="big_pulley"/>
        <!-- Part upper_arm_3 -->
        <geom type="mesh" class="visual" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm" material="upper_arm_material"/>
        <geom type="mesh" class="collision" pos="0.075 0 -0.06405" quat="0.5 0.5 -0.5 0.5" mesh="upper_arm"/>
        <!-- Part rod_3 -->
        <geom type="mesh" class="visual" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod" material="rod_material"/>
        <geom type="mesh" class="collision" pos="-0.08 -0.0175 -0.071" quat="0.683013 0.683013 -0.183013 0.183013" mesh="rod"/>

        <!-- FOREARM 3a - ball joint at lower pushrod screw -->
        <body name="forearm_3a" pos="0.15 0 -0.08405" quat="0.164305 0.614066 0.736225 0.232163">
          <joint name="ball1_arm3" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_3a_tip" pos="0.2658 0 -0.005" size="0.005" rgba="0 0 1 1"/>
          <body name="forearm_3a_tip_body" pos="0.2658 0 -0.005">
            <inertial pos="0 0 0" mass="1e-9" fullinertia="1e-12 1e-12 1e-12 0 0 0"/>
          </body>
        </body>

        <!-- FOREARM 3b - ball joint at upper pushrod screw -->
        <body name="forearm_3b" pos="0.15 0 -0.04405" quat="0.230442 0.593608 0.717210 0.283082">
          <joint name="ball2_arm3" type="ball"/>
          <inertial pos="0.13 0 -0.0025" mass="0.005" fullinertia="1e-06 1e-04 1e-04 0 0 0"/>
          <geom type="mesh" class="visual" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm" material="forearm_material"/>
          <geom type="mesh" class="collision" pos="0.2558 0 0" quat="0.707107 0 -0.707107 0" mesh="forearm"/>
          <geom type="mesh" class="visual" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis" material="push_rod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0.2658 0 -0.005" quat="1 0 0 0" mesh="push_rod_chassis"/>
          <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis" material="biltema_pushrod_chassis_material"/>
          <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="biltema_pushrod_chassis"/>
          <site name="forearm_3b_tip" pos="0.2658 0 -0.005" size="0.005" rgba="0 0 1 1"/>
          <body name="forearm_3b_tip_body" pos="0.2658 0 -0.005">
            <inertial pos="0 0 0" mass="1e-9" fullinertia="1e-12 1e-12 1e-12 0 0 0"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <asset>
    <mesh file="end_effector_plate.stl"/>
    <mesh file="motor_mount.stl"/>
    <mesh file="rod_mount.stl"/>
    <mesh file="biltema_pushrod_screw.stl"/>
    <mesh file="push_rod_ball.stl"/>
    <mesh file="koch_connector.stl"/>
    <mesh file="push_rod_chassis.stl"/>
    <mesh file="mobile_gripper_side.stl"/>
    <mesh file="upper_arm.stl"/>
    <mesh file="base_plate.stl"/>
    <mesh file="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f.stl"/>
    <mesh file="rod.stl"/>
    <mesh file="forearm.stl"/>
    <mesh file="bts2_motor_wheel.stl"/>
    <mesh file="bts2_motor.stl"/>
    <mesh file="motor_wire_connector.stl"/>
    <mesh file="static_gripper_side.stl"/>
    <mesh file="big_pulley.stl"/>
    <mesh file="robot_mount.stl"/>
    <mesh file="gripper_shoulder.stl"/>
    <mesh file="motor.stl"/>
    <mesh file="biltema_pushrod_chassis.stl"/>
    <mesh file="small_pulley.stl"/>
    <material name="rod_mount_material" rgba="0.231373 0.380392 0.705882 1"/>
    <material name="small_pulley_material" rgba="0.866667 0.909804 1 1"/>
    <material name="motor_mount_material" rgba="0.647059 0.647059 0.647059 1"/>
    <material name="motor_wire_connector_material" rgba="0.796078 0.823529 0.937255 1"/>
    <material name="robot_mount_material" rgba="0.768627 0.886275 0.952941 1"/>
    <material name="base_plate_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="motor_material" rgba="0.796078 0.823529 0.937255 1"/>
    <material name="biltema_pushrod_screw_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="upper_arm_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="rod_material" rgba="0.917647 0.917647 0.917647 1"/>
    <material name="big_pulley_material" rgba="0.866667 0.909804 1 1"/>
    <material name="forearm_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="push_rod_chassis_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="biltema_pushrod_chassis_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="bts2_motor_wheel_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="static_gripper_side_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="bts2_motor_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="gripper_shoulder_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="koch_connector_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="end_effector_plate_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="mobile_gripper_side_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="push_rod_ball_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="ph_pan_head_screw_m5x0_80_x_20__cc5a28f66c81927f4b0c3b2d4528a18f_material" rgba="0.603922 0.647059 0.686275 1"/>
  </asset>

  <!-- Actuators: 3 shoulder motors + 3 gripper joints -->
  <actuator>
    <position class="delta-robot" name="shoulder_1" joint="shoulder_1"/>
    <position class="delta-robot" name="shoulder_2" joint="shoulder_2"/>
    <position class="delta-robot" name="shoulder_3" joint="shoulder_3"/>
    <position class="delta-robot" name="pronation_supination" joint="pronation_supination" inheritrange="1"/>
    <position class="delta-robot" name="flexion_extension" joint="flexion_extension" inheritrange="1"/>
    <position class="delta-robot" name="gripper" joint="gripper" inheritrange="1"/>
  </actuator>

  <!-- Equality constraints to close the parallel kinematic loops -->
  <!-- 5 constraints: forearm_1a is connected via tree, the other 5 need constraints -->
  <equality>
    <!-- Arm 1: second forearm -->
    <connect body1="end_effector" body2="forearm_1b_tip_body" anchor="-0.012465 0.048717 0.000557" solref="0.002 1" solimp="0.99 0.99 0.001"/>
    <!-- Arm 2: both forearms -->
    <connect body1="end_effector" body2="forearm_2a_tip_body" anchor="-0.013589 0.048679 -0.024254" solref="0.002 1" solimp="0.99 0.99 0.001"/>
    <connect body1="end_effector" body2="forearm_2b_tip_body" anchor="-0.027460 0.031816 -0.039323" solref="0.002 1" solimp="0.99 0.99 0.001"/>
    <!-- Arm 3: both forearms -->
    <connect body1="end_effector" body2="forearm_3a_tip_body" anchor="-0.047726 0.010642 -0.022334" solref="0.002 1" solimp="0.99 0.99 0.001"/>
    <connect body1="end_effector" body2="forearm_3b_tip_body" anchor="-0.047564 0.011309 0.007125" solref="0.002 1" solimp="0.99 0.99 0.001"/>
  </equality>
</mujoco>
